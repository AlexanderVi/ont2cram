**Python 3 or higher is required**
## ont2cram
Oxford Nanopore HDF/Fast5 to CRAM conversion tool

USAGE: 
**python ont2cram.py -i INPUTDIR -o OUTPUTFILE**

  -i INPUTDIR, --inputdir INPUTDIR
        
        Input directory containing Fast5 files
                        
  -o OUTPUTFILE, --outputfile OUTPUTFILE
                        
                        Output CRAM filename


Implementation details:

There is a mapping table in the header that maps ONT attributes to lowercase SAM aux tags eg:
ONT:'Analyses/Basecall_1D_000/Configuration/calibration_strand/genome_name':S TG:b5 CV:'Lambda_3.6kb'

general format is : ONT:'<hdf_attribute_pathname>':<original_datatype> TG:<2_letter_lowecase_tag> CV:<constant_value>

<original_datatype> is represented using Numpy datatype character codes ( https://docs.scipy.org/doc/numpy/reference/arrays.dtypes.html#specifying-and-constructing-data-types )  

CV part is optional - currently present only if >50% of fast5 files have this value. Thus, in current implementation CV is more like 'common value' than constant ( it can be overwritten on the read level for those reads that have different value ).

Tag names are generated sequentially ( a0,a1....aa.....az,aA...aZ...zZ ). If 'zZ' is reached the program exists with an error. 

Signal is stored in 'zZ' tag ( "--skipsignal" flag allows to skip raw signal and produce _much_ smaller Crams )

Events and other auxiliary datasets are currently not stored - TODO item(not clear how to store them - each column in a separate tag?) 

Some string values in HDF attributes have line breaks inside - is it valid for Cram tags or better to remove them?


## cram2ont ( reverse converter )

*CRAM to Fast5 conversion utility (this is a reverse converter which allows to
restore original Fast5 collection from Cram generated by ont2cram)*

usage: **cram2ont.py -i INPUTFILE [-o OUTPUTDIR]**

Arguments:
  -i INPUTFILE, --inputfile INPUTFILE
  
    Input CRAM filename
  
  -o OUTPUTDIR, --outputdir OUTPUTDIR
  
    Output directory for generated Fast5 files
